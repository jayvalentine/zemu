require 'rake/testtask'
require 'rdoc/task'
require 'yard'

# The location of this rakefile.
HERE = __dir__

desc "Run tests"
Rake::TestTask.new do |t|
    t.test_files = FileList['test/config/test_*.rb']
end

namespace :docs do
    desc "Generate documentation"
    YARD::Rake::YardocTask.new :build do |t|
        t.before do
            system("rm -r #{File.join(HERE, "doc")}")
        end
        
        t.files = ["lib/**/*.rb"]
        t.stats_options = ["--list_undoc"]
    end

    desc "View documentation"
    task :view => :build do
        system "firefox #{File.join(HERE, "doc", "index.html")}"
    end
end